import { cookiesStorage } from '../utility/storage/cookies-storage';
import { WebStorageService } from './webstorage.service';
import { cookiesStorageUtility } from '../utility';
import { merge } from 'rxjs';
import { Injectable } from '@angular/core';
export class CookiesStorageService extends WebStorageService {
    constructor() {
        var _a;
        super(cookiesStorageUtility);
        this._changes = !cookiesStorage.externalChanges ? cookiesStorageUtility.changes
            : merge((_a = cookiesStorage.externalChanges) === null || _a === void 0 ? void 0 : _a.asObservable(), cookiesStorageUtility.changes);
    }
    set(key, value, expirationDate) {
        return this.utility.set(key, value, { expires: expirationDate });
    }
}
CookiesStorageService.keys = [];
CookiesStorageService.decorators = [
    { type: Injectable }
];
CookiesStorageService.ctorParameters = () => [];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29va2llcy1zdG9yYWdlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RvcmUvc3JjL2xpYi9zZXJ2aWNlL2Nvb2tpZXMtc3RvcmFnZS5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUNwRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUN6RCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDbkQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUM3QixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzNDLE1BQU0sT0FBTyxxQkFBc0IsU0FBUSxpQkFBaUI7SUFHMUQ7O1FBQ0UsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLHFCQUFxQixDQUFDLE9BQU87WUFDN0UsQ0FBQyxDQUFDLEtBQUssT0FBQyxjQUFjLENBQUMsZUFBZSwwQ0FBRSxZQUFZLElBQUkscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQUVNLEdBQUcsQ0FBSSxHQUFXLEVBQUUsS0FBUSxFQUFFLGNBQXFCO1FBQ3hELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFDLE9BQU8sRUFBRSxjQUFjLEVBQUMsQ0FBTSxDQUFDO0lBQ3RFLENBQUM7O0FBVmEsMEJBQUksR0FBa0IsRUFBRSxDQUFDOztZQUZ4QyxVQUFVIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29va2llc1N0b3JhZ2UgfSBmcm9tICcuLi91dGlsaXR5L3N0b3JhZ2UvY29va2llcy1zdG9yYWdlJztcbmltcG9ydCB7IFdlYlN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi93ZWJzdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgY29va2llc1N0b3JhZ2VVdGlsaXR5IH0gZnJvbSAnLi4vdXRpbGl0eSc7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29va2llc1N0b3JhZ2VTZXJ2aWNlIGV4dGVuZHMgV2ViU3RvcmFnZVNlcnZpY2Uge1xuICBwdWJsaWMgc3RhdGljIGtleXM6IEFycmF5PHN0cmluZz4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihjb29raWVzU3RvcmFnZVV0aWxpdHkpO1xuICAgIHRoaXMuX2NoYW5nZXMgPSAhY29va2llc1N0b3JhZ2UuZXh0ZXJuYWxDaGFuZ2VzID8gY29va2llc1N0b3JhZ2VVdGlsaXR5LmNoYW5nZXNcbiAgICAgIDogbWVyZ2UoY29va2llc1N0b3JhZ2UuZXh0ZXJuYWxDaGFuZ2VzPy5hc09ic2VydmFibGUoKSwgY29va2llc1N0b3JhZ2VVdGlsaXR5LmNoYW5nZXMpO1xuICB9XG5cbiAgcHVibGljIHNldDxUPihrZXk6IHN0cmluZywgdmFsdWU6IFQsIGV4cGlyYXRpb25EYXRlPzogRGF0ZSk6IFQge1xuICAgIHJldHVybiB0aGlzLnV0aWxpdHkuc2V0KGtleSwgdmFsdWUsIHtleHBpcmVzOiBleHBpcmF0aW9uRGF0ZX0pIGFzIFQ7XG4gIH1cbn1cbiJdfQ==